<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<title>Meme War 2</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/3.0.1/socket.io.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
  <script src="client.js" type="text/javascript"></script>
  <link href="https://fonts.googleapis.com/css?family=Nunito|Cute+Font|East+Sea+Dokdo|Orbitron|Press+Start+2P|Quantico|Stalinist+One" rel="stylesheet"></link>
  <link rel="stylesheet" href="index.css"></link>
  <!-- <link rel="shortcut icon" href="../images/favicon.ico"><link/> -->
</head>
<body>
  <div class="header-container">

    <div id="leftist-buttons">
      <div>
        <button>protips</button>
        <div id="accountButton"><button onclick="$('#signinstuff').css('display','inline-block');$(this).css('display','none');">sign up</button></div>
        <div id="userprofilestuff"><button id="userProfileButton" class="raise" onclick="viewProfilePage();">jk</button></div>
      </div>
      <div id="signinstuff">
        <div id="signInBox">
          <div><input id="signInName" placeholder="username" type="text"/></div>
          <div><input id="passwordvalue" placeholder="password" type="text"/></div>
          <button id="submitSignInDetails" class="raise" onclick="loginUser();">Sign in</button><button class="raise" id="registerNewUser" onclick="registerNewUser();">Sign up</button>
        </div>
      </div>
    </div>

    <div id="centerstage">
      <h1>Meme War 2</h1>
      <h4 id="pageID">main page</h4>
    </div>

    <div id="right-buttons">
      <div><button id="make-new-post" class="raise" onclick="showNewPostBox();">Create new post</button></div>
      <div><button id="store">store</button></div>
    </div>

  </div>
  <div class="header-container">
    <div>
      <button id="sort-by-time-only">Time</button>
      <button id="sort-by-mv-only">Upvotes</button>
      <button id="sort-by-views-only">Views</button> 
    </div>
    <div id="popular-tags">
      <!-- <span class="tooltiptext">use the input bar to filter for only that tag or click one of the popular tags to the right. the number in parentheses represents the number of posts with that tag</span> --><input type="text" id="tag-filter" placeholder="input a tag to search for"/>&nbsp;<button class="fill"><span class="tag-name">ff7</span>&nbsp;(<span class="number-of-posts-with-tag">37</span>)</button>&nbsp;<button class="fill"><span class="tag-name">xxx</span>&nbsp;(<span class="number-of-posts-with-tag">444</span>)</button>
    </div>
    <div></div>
  </div>



  <div id="big-container">
  

    <div id="entryContainer">


        <div class="post-container" postID="675675667"> 
          <div class="post">
            <a onclick="viewPost($(this).parent().parent().parent().attr('postID'));" href="#">
              <div class="post-visual"><img src="uploaded/tifa.jpg"/></div>
              <div class="posthelper"><div class="post-title">Hot pic of tifa cosplaydrfetetf gasegfasdgasdgfsadgasdga dsfhfdshgdfshsdfghd sfhdfshdfshsd fhsdfhfdhgsdfhdfsrhdfhdf Hot pic of tifa cosplaydrfetetf gasegfasdgasdgfsadgasdga dsfhfdshgdfshsdfghd sfhdfshdfshsd fhsdfhfdhgsdfhdfsrhdfhdfhdf Hot pic of tifa cosplaydrfetetf gasegfasdgasdgfsadgasdga dsfhfdshgdfshsdfghd sfhdfshdfshsd fhsdfhfdhgsdfhdfsrhdfhdfhdf hdf</div>
            </a>
              <div class="post-header">
                <span class="upvotes-tooltip"><span class="tooltiptext">the number of +'s minus the number of -'s this post received</span><span class="upvotecount">34</span>&nbsp;profit</span>
                &nbsp;&nbsp;|&nbsp;&nbsp;
                <span class="views-tooltip"><span class="tooltiptext">the number of times someone actually clicked on this post</span><span class="viewcount">100</span>&nbsp;clicks</span>
                &nbsp;&nbsp;|&nbsp;&nbsp;<span class="post-date">3/4/2020</span>
                &nbsp;&nbsp;|&nbsp;&nbsp;<span><span class="post-numreplies">3</span>&nbsp;replies</span>
                &nbsp;&nbsp;|&nbsp;&nbsp;<span>reply to&nbsp;<span class="replyToId">TITLKE</span></span>
              </div>
          </div>
          </div>
          <div class="post-buttons">
            <button class="raise anonallow" onclick="showReplyBox();"><span class="tooltiptext">quick reply</span>&#x1f5e8;</button>
            <button class="raise profallow" onclick="showVoteBox(true);"><span class="tooltiptext">upvote</span>&#10133;</button>
            <button class="raise profallow" onclick="showVoteBox(false);"><span class="tooltiptext">downvote</span>&#10134;</button>
            <button class="raise profallow" onclick="showShieldCensorHarvestBox(2);"><span class="tooltiptext">convert this post's profit into memecoin, then delete post</span>‚ôª</button>
            <button class="raise profallow" onclick="showShieldCensorHarvestBox(1);"><span class="tooltiptext">add a free speech shield to this post</span>üõ°</button>
            <button class="raise profallow" onclick="showShieldCensorHarvestBox(0);"><span class="tooltiptext">attempt to censor this post</span>&#x1f4a3;</button>
            <button class="raise anonallow" onclick="showShareBox($(this).parent().parent());"><span class="tooltiptext">share this post</span><svg xmlns="http://www.w3.org/2000/svg" height="16" viewBox="0 0 24 24" width="24"><path d="M0 0h24v24H0z" fill="none"/><path fill="#dfe09d" d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92 1.61 0 2.92-1.31 2.92-2.92s-1.31-2.92-2.92-2.92z"/></svg></button>
            <button class="raise profallow" onclick="favoritePost($(this).parent().parent());"><span class="tooltiptext">favorite this post</span>‚ù§</button>
            <button class="raise anonallow" onclick="showTagBox();"><span class="tooltiptext">tag this post</span>üè∑</button>
            <div id="statusdiv"></div>
          </div>
        </div> 


    </div>



    <div id="divStorage">

      <div id="newPostContainer">
     <!--     <textarea id="title-of-new-post" placeholder="title of your new post"></textarea>
        <br/><textarea id="new-text-post-data" placeholder="your post content can be a link, a goddamn essay, or nothing at all"></textarea>
       <br/><input id="tagForNewPost" placeholder="you must provide a tag for your post" type="text" maxlength="64"/>
        <br/><div id="newpostuploaderholder">tyuturrturt</div> -->
        <form ref='uploadForm' 
            id='uploadForm' 
            action='/upload' 
            onsubmit='submitNewPost();'
            method='post' 
            encType='multipart/form-data'>
            <input type="text" placeholder="EOTIJEOITJE" name="title"/>
            <input type="text" placeholder="content" name="content"/>
 <!--            <textarea id="title-of-new-post" placeholder="title of your new post"></textarea>
            <textarea id="new-text-post-data" placeholder="your post content can be a link, a goddamn essay, or nothing at all"></textarea>
      -->       <input id="tagForNewPost" name="tag" placeholder="you must provide a tag for your post" type="text" maxlength="64"/>
              <input type="file" id="sampleFile" name="sampleFile" />
              <input type='submit' value='Submit!' />
          </form>     
        <br/><button id="submitNewPost" class="raise" onclick="submitNewPost();">Submit</button><button id="cancelNewPost" class="raise" onclick="returnNewPostBox();">Cancel</button>
      </div>

      <div id="replyContainer">
        <br/><textarea id='comment-input'></textarea>
        <br/><input id="tagForNewReply" type="text" placeholder="optional tag" maxlength="64"/>
        <br/><div id="replyuploaderholder">tyjrturt</div>        
        <div><button id="submit-reply" class="raise" onclick="submitReply($(this).parent().parent().parent().parent().parent());">Submit this reply</button><button id="cancel-reply" class="raise" onclick="returnReplyBox();">Cancel</button></div>
        <input id="temptitle" type="text"/>
      </div>

      <div id="tagContainer" data-tag-id="ff7">
        <div id="existingTagsForThisPost">
          Existing tags for this post:&nbsp;
          <div class="postTag">(<a href="#" title="# of upvotes this tag received for this post. click to spend a memecoin to upvote" class="upvotes-for-tag-for-this-post" onclick="upvoteThisTagForThisPost($(this).parent().parent().parent().attr('data-tag-id'), $(this).parent().parent().parent().parent().parent().parent().attr('postID'));">44</a>)&nbsp;-&nbsp;<span class="tagName">ff7</span>&nbsp;-&nbsp;(<a href="#" title="# of posts with this tag. click to view all posts with this tag" class="other-posts-with-this-tag" onclick="getAllPostsWithThisTag($(this).parent().parent().parent().attr('data-tag-id'));">37</a>)</div>
        </div>
        <div id="addNewTag">
          <input id="newTagSuggestion" type="text" title="'keyboard smash' tags won't be deleted, but will be consolidated into the JUNK tag at the admin's pleasure" maxlength="24"/><button id="submitTag" onclick="submitTag(document.getElementById('newTagSuggestion').value, $(this).parent().parent().parent().parent().parent().attr('postID'));">Tag this post</button><button id="cancelTag" onclick="returnTagBox();">Cancel</button>
        </div>
      </div>


      <div id="newStatsContainer">
        <div>For each individual post, for each + or - after the first vote costs double the memecoin it did prior. </div>
        <div>Cost of next vote:&nbsp;<span id="cost-of-next-vote">?</span></div>
         <div>Current votes:&nbsp;<span id="upvotestat">84</span>&nbsp;&#10133;'s&nbsp;&nbsp;|&nbsp;&nbsp;<span id="downvotestat">50</span>&nbsp;&#10134;'s&nbsp;&nbsp;|&nbsp;&nbsp;<span id="totalvotestat"></span></div>
        </div>
      </div>


 <!--      <div id="fileuploader"><input type="file" onchange="previewFile();"/><br/><img id="myimg" src="" height="150" alt="Image preview..."></div> -->


      <div id="censorShieldHarvestContainer">
        <div class="harvestmessage">harvesting your post converts its profit into memecoins, but deletes the post</div>
        <div class="censormessage">are you sure you want to attempt to delete this person's post? if they have a free speech shield, you'll waste your memecoins...</div><div class="shieldmessage">free speech shields cost half as much and block 1 censor attempt!</div>
        <div><button class="censormessage" id="confirmCensor" onclick="confirmCensor($(this).parent().parent().parent().parent().parent());">CENSOR</button><button class="shieldmessage" id="confirmShield" onclick="confirmShield($(this).parent().parent().parent().parent().parent());">SHIELD</button>
            <button class="harvestmessage" id="confirmHarvest" onclick="confirmHarvest($(this).parent().parent().parent().parent().parent());">HARVEST</button><button onclick="$('#censorShieldHarvestContainer').css('display', 'none');" id="cancelCensor">CANCEL</button></div>
      </div>


      <div id="shareButtonContainer">
        I understand how shitty other platforms are, but it's only by mingling with the lower races that we can bring them up... This is the memelord's burden.
        <div>
          <a href="https://twitter.com/share?ref_src=twsrc%5Etfw/+463634643" class="twitter-share-button" data-show-count="false">Tweet</a><script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>
        </div>
      </div>


    </div>


  </div>
</body>
<script>window.onload = onloadFunction;</script>
</html>